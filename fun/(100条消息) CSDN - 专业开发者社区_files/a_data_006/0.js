webpackJsonp([0],{"3cXf":function(t,e,i){t.exports={default:i("VWiu"),__esModule:!0}},EE4Q:function(t,e,i){i("8LqW"),i("g5OY"),t.exports=i("MyFO")},HzJ8:function(t,e,i){t.exports={default:i("vY6q"),__esModule:!0}},JAyX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAA7ElEQVQ4EaWTPQrCMBiG83ObqpO9ikEQXHsE0QPYOjlKV0HQ3MFNx272LuLQmDeYktQ2rRjID+R7nuRL+OhMJCVl5CjP+Y780MQ8WalKLRhgvciESNZDecSCoYyeePko7uNR/FJEbTGXZXELiQysYymhG3nJM45gQEMkHizzFKwRDJG0wZ4gJOmCwVAMzeYC2MP7mJw/13bjWwUIsBKsu2DsMQz/tPoRXYk9HSfrfg198ZfAhaXOue+LPUETtrcKSWpBF9wnMYI+OCThpqqUSkNfZQWYvXQm8ZNH0fSgq2qPwnADQ2sj0bCqyPIN5ILnMsQvU7cAAAAASUVORK5CYII="},KH7x:function(t,e,i){"use strict";e.__esModule=!0;var r=a(i("MGgt")),s=a(i("HzJ8"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var i=[],r=!0,a=!1,n=void 0;try{for(var o,l=(0,s.default)(t);!(r=(o=l.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){a=!0,n=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},MGgt:function(t,e,i){t.exports={default:i("EE4Q"),__esModule:!0}},MyFO:function(t,e,i){var r=i("GI8K"),s=i("LYr1")("iterator"),a=i("Bcth");t.exports=i("DH3n").isIterable=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||a.hasOwnProperty(r(e))}},VWiu:function(t,e,i){var r=i("DH3n"),s=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},"XO/m":function(t,e,i){var r=i("7NgR"),s=i("/tnA");t.exports=i("DH3n").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},cVme:function(t,e){},grgC:function(t,e){},"vT+3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("3cXf"),s=i.n(r),a=i("aA9S"),n=i.n(a),o=i("rVsN"),l=i.n(o),c=i("LTzH"),p=i("VqY/"),v={getTemplatequery:function(t,e){return e.positionId&&(e.positionId=parseInt(e.positionId)),new l.a(function(i,r){c.a.get(p.a.API_PREVIEW_URL+"ad/template/"+t+"?"+function(t){var e,i=[];for(var r in t)i.push(r+"="+(e=t[r],e=(e=(e=(e=(e=(e=(e=(e=(e+="").replace(/%/g,"%25")).replace(/\+/g,"%2B")).replace(/ /g,"%20")).replace(/\//g,"%2F")).replace(/\?/g,"%3F")).replace(/&/g,"%26")).replace(/\=/g,"%3D")).replace(/#/g,"%23")));return i.join("&")}(e)).then(function(t){var e=t.data.data;e&&(e.templateContent=JSON.parse(e.templateContent),i(t.data))}).catch(function(t){r(t)})})}},d=i("HzJ8"),u=i.n(d),f=i("KH7x"),A=i.n(f),_=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};function g(t,e,i){var r,s=0,a=[];try{var n="("+_(e)+")",o=new RegExp(n,(r=t).toLowerCase()!==r?"":"i");a=t.split(o)}catch(t){return}for(var l=0,c=a.length-2;l<=c;l+=2){var p=a[l],v=a[l+1];s+=p.length,i.push([s,s+v.length]),s+=v.length}}var w=function(t,e){var i=[],r=e.map(function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}),s=!0,a=!1,n=void 0;try{for(var o,l=u()(r);!(s=(o=l.next()).done);s=!0)g(t,o.value,i)}catch(t){a=!0,n=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw n}}if(!i.length)return t;i=(i=function(t){var e=t.shift(),i=[e];return t.forEach(function(t){e[1]>=t[0]?e[1]=Math.max(t[1],e[1]):(i.push(t),e=t)}),i}(i.sort(function(t,e){return t[0]-e[0]}))).sort(function(t,e){return e[0]-t[0]});var c=!0,p=!1,v=void 0;try{for(var d,f=u()(i);!(c=(d=f.next()).done);c=!0){var _=d.value,w=A()(_,2),m=w[0],h=w[1];t=t.substring(0,m)+"<em>"+t.substring(m,h)+"</em>"+t.substring(h)}}catch(t){p=!0,v=t}finally{try{!c&&f.return&&f.return()}finally{if(p)throw v}}return t},m={name:"preview",data:function(){return{reportClick:"",preview:{},imgWidth:95,imgHeight:71,contentMarginLeft:106,clientObj:{},clients:[{id:"1",name:"华为云"},{id:"2",name:"广告"}],showAdCloseaLink:!1,isAdClosed:!1,type:"",fType:""}},computed:{showAdStatus:function(){return void 0===this.preview.showAdStatus||this.preview.showAdStatus},showCloseAd:function(){return void 0===this.preview.closeAdStatus||this.preview.closeAdStatus},closeBtnStyle:function(){return this.preview?{color:this.preview.closeBtnColor||"#fff","border-color":this.preview.closeBtnColor||"#fff"}:{}}},created:function(){var t=this;if(this.$route.params.id){var e=this.$route.query.spm||"",i=["positionId","queryWord","articleId","hk"].reduce(function(e,i){return Object.hasOwnProperty.call(t.$route.query,i)&&(e[i]=t.$route.query[i]),e},{});this.getTemplatequery(this.$route.params.id,i,e)}else this.preview=n()({},this.templateData),this.type=this.templateType,this.fType=this.feedType,this.getImgArr();this.clients.map(function(e){t.clientObj[e.id]=e.name})},filters:{filterClient:function(t,e){if(e[t])return e[t];return"广告"}},watch:{feedType:function(t,e){this.fType=t},templateType:function(t,e){this.type=t},templateData:function(t,e){this.preview=n()({},t),this.getImgArr()}},props:{templateData:Object,templateType:String,feedType:String},methods:{reportByImgUrl:function(t){var e=document.createElement("img");e.style.display="none",e.src=t,e.addEventListener("load",function(){e.remove()}),document.body.append(e)},getImgArr:function(){if(this.preview.imgUrl&&("3"===this.fType||"3"===this.type)){var t;t=this.preview.imgUrl.split(","),this.preview.imgUrl=t}},getTemplatequery:function(t,e,i){var r=this;v.getTemplatequery(t,e).then(function(t){if(200===t.status){var a=t.data;if(!a)return;r.preview=a.templateContent;try{if(a.templateContent&&a.templateContent.redFlag&&a.templateContent.redFlagWord){var n=a.templateContent.redFlagWord.split(",");r.preview.title=w(a.templateContent.title,n),r.preview.abstract=w(a.templateContent.abstract,n)}}catch(t){r.preview.title=a.templateContent.title||"",r.preview.abstract=a.templateContent.abstract||""}r.preview.bottomingAdInfo&&r.preview.bottomingAdInfo.isShow&&(r.showAdCloseaLink=!0),r.type=a.templateType,r.fType=r.preview.feedType,r.getImgArr();var o=e.positionId,l=e.queryWord,c={mod:"kp_popu_"+o+"-"+a.adContentId,keyword:l,extra:s()(e)};i&&(c.spm=i),r.reportClick=s()(c)}}).catch(function(t){})},jumpToPreview:function(t){window.open(""+t)},closeAd:function(){this.isAdClosed=!0,this.preview.closeAdClickUrl&&this.reportByImgUrl(this.preview.closeAdClickUrl)}}},h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"preview-wrapper"},[t.isAdClosed?r("div",{staticClass:"close-ad-wrapper"},[r("p",[t._v("CSDN已关闭此广告")]),t._v(" "),t.showAdCloseaLink?r("a",{attrs:{target:"_blank",href:t.preview.bottomingAdInfo.url}},[t._v(t._s(t.preview.bottomingAdInfo.title))]):t._e()]):t._e(),t._v(" "),"1"===t.type||"4"===t.type?r("div",{staticClass:"picture-ad"},[r("a",{attrs:{target:"_blank","data-report-click":t.reportClick},on:{click:function(e){return t.jumpToPreview(t.preview.clickUrl)}}},[r("img",{staticStyle:{width:"100%"},attrs:{src:t.preview.imgUrl,alt:""}})]),t._v(" "),t.showAdStatus?r("div",{staticClass:"ad-icon",style:t.closeBtnStyle},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]):t._e(),t._v(" "),t.showCloseAd?r("div",{staticClass:"ad-icon close-ad",style:t.closeBtnStyle,on:{click:function(e){return t.closeAd()}}},[t._v("关闭")]):t._e(),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e(),t._v(" "),"2"===t.type&&"5"===t.fType?r("div",{staticClass:"template-blog"},[r("div",{staticClass:"template-blog-view"},[r("div",{staticClass:"blog_ad_top"},[r("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick},domProps:{innerHTML:t._s(t.preview.title)}}),t._v(" "),r("div",{staticClass:"ad_close"},[t.showAdStatus?r("div",[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]):t._e(),t._v(" "),r("img",{attrs:{src:i("JAyX"),alt:"x"},on:{click:function(e){return t.closeAd()}}})])]),t._v(" "),r("a",{staticClass:"blog_ad_content",attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},[r("img",{attrs:{src:t.preview.imgUrl,alt:""}}),t._v(" "),r("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.preview.abstract)}})])]),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):"2"===t.type&&"6"===t.fType?r("div",{staticClass:"template-blog-right-feed"},[r("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},[r("img",{attrs:{src:t.preview.imgUrl,alt:""}}),t._v(" "),r("p",{domProps:{innerHTML:t._s(t.preview.title)}})]),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):"2"===t.type?r("div",{staticClass:"feed-template"},["1"===t.fType?r("div",{staticClass:"ad-box ad-imgtxt-box clearfix"},[r("a",{staticStyle:{display:"block",overflow:"hidden"},attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},[r("div",{staticClass:"img-box"},[r("img",{style:{width:t.imgWidth+"px",height:t.imgHeight+"px"},attrs:{src:t.preview.imgUrl,alt:""}})]),t._v(" "),r("div",{staticClass:"content-box",style:{marginLeft:t.contentMarginLeft+"px"}},[r("p",{staticClass:"tit",domProps:{innerHTML:t._s(t.preview.title)}}),t._v(" "),r("p",{staticClass:"intro",domProps:{innerHTML:t._s(t.preview.abstract)}})])]),t._v(" "),t.showAdStatus?r("div",{staticClass:"ad-icon",style:t.closeBtnStyle},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]):t._e(),t._v(" "),t.showCloseAd?r("div",{staticClass:"ad-icon close-ad",style:t.closeBtnStyle,on:{click:function(e){return t.closeAd()}}},[t._v("关闭")]):t._e(),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e(),t._v(" "),"2"===t.fType?r("div",{staticClass:"ad-box ad-txt-box"},[r("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},[r("p",{staticClass:"tit",domProps:{innerHTML:t._s(t.preview.title)}}),t._v(" "),r("p",{staticClass:"intro",domProps:{innerHTML:t._s(t.preview.abstract)}})]),t._v(" "),t.showAdStatus?r("div",{staticClass:"ad-icon",style:t.closeBtnStyle},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]):t._e(),t._v(" "),t.showCloseAd?r("div",{staticClass:"ad-icon close-ad",style:t.closeBtnStyle,on:{click:function(e){return t.closeAd()}}},[t._v("关闭")]):t._e(),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e(),t._v(" "),"3"===t.fType?r("div",{staticClass:"ad-box"},[r("div",{staticClass:"pic_container"},[r("div",{staticClass:"pic_title",domProps:{innerHTML:t._s(t.preview.title)}}),t._v(" "),r("a",{staticClass:"pic_row",attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},t._l(t.preview.imgUrl,function(t,e){return r("div",{key:e,staticClass:"pic_item"},[r("img",{attrs:{src:t}})])}),0),t._v(" "),t.showAdStatus?r("div",{staticClass:"ad-icon",style:t.closeBtnStyle},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]):t._e(),t._v(" "),t.showCloseAd?r("div",{staticClass:"ad-icon close-ad",style:t.closeBtnStyle,on:{click:function(e){return t.closeAd()}}},[t._v("关闭")]):t._e(),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})])]):t._e(),t._v(" "),"4"===t.fType?r("div",{staticClass:"ad-box clearfix big_pic_container"},[r("a",{attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},[r("p",{staticClass:"pic_title",domProps:{innerHTML:t._s(t.preview.title)}}),t._v(" "),r("img",{attrs:{src:t.preview.imgUrl,alt:""}})]),t._v(" "),t.showAdStatus?r("div",{staticClass:"ad-icon",style:t.closeBtnStyle},[t._v(t._s(t._f("filterClient")(t.preview.client,t.clientObj)))]):t._e(),t._v(" "),t.showCloseAd?r("div",{staticClass:"ad-icon close-ad",style:t.closeBtnStyle,on:{click:function(e){return t.closeAd()}}},[t._v("关闭")]):t._e(),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})]):t._e()]):t._e(),t._v(" "),"3"===t.type?r("div",{staticClass:"ad-box"},[r("div",{staticClass:"pic_container"},[r("a",{staticClass:"pic_row",attrs:{href:t.preview.clickUrl,target:"_blank","data-report-click":t.reportClick}},t._l(t.preview.imgUrl,function(t,e){return r("div",{key:e,staticClass:"pic_item interactiveAd"},[r("img",{attrs:{src:t}})])}),0),t._v(" "),t.showAdStatus?r("div",{staticClass:"ad-icon",style:t.closeBtnStyle},[t._v("广告")]):t._e(),t._v(" "),t.showCloseAd?r("div",{staticClass:"ad-icon close-ad",style:t.closeBtnStyle,on:{click:function(e){return t.closeAd()}}},[t._v("关闭")]):t._e(),t._v(" "),r("img",{staticClass:"popuMonitor",attrs:{src:t.preview.popuMonitor}})])]):t._e()])};h._withStripped=!0;var C={render:h,staticRenderFns:[]},y=C;var b=!1;var k=i("C7Lr")(m,y,!1,function(t){b||(i("grgC"),i("cVme"))},"data-v-36749b0d",null);k.options.__file="src/pages/preview/Preview.vue";e.default=k.exports},vY6q:function(t,e,i){i("8LqW"),i("g5OY"),t.exports=i("XO/m")}});
//# sourceMappingURL=0.016c2a1c9bf2e1b3a24a.js.map